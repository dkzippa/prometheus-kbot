loki:
  auth_enabled: false
  server:
    http_listen_port: 3100
    grpc_listen_port: 9095

  commonConfig:
    replication_factor: 1
    path_prefix: /var/loki
    # storage:
    #   type: 'filesystem'
    # singleBinary:
    #   replicas: 1

  config: |
    common:
      instance_addr: 127.0.0.1
      path_prefix: /tmp/loki
      storage:
        filesystem:
          chunks_directory: /tmp/loki/chunks
          rules_directory: /tmp/loki/rules
      replication_factor: 1
      ring:
        kvstore:
          store: inmemory

    query_range:
      results_cache:
        cache:
          embedded_cache:
            enabled: true
            max_size_mb: 100

    schema_config:
      configs:
        - from: 2020-10-24
          store: boltdb-shipper
          object_store: filesystem
          schema: v11
          index:
            prefix: index_
            period: 24h

    analytics:
      reporting_enabled: false
read:
  replicas: 0
write:
  replicas: 0
backend:
  replicas: 0
  autoscaling:
    enabled: false
gateway:
  replicas: 0
singleBinary:
  replicas: 1


# Enable tracing for Loki
# Loki can be traced using Jaeger by setting the environment variable JAEGER_AGENT_HOST to the hostname and port where Jaeger is running.

# If you deploy with Helm, use the following command:
# $ helm upgrade --install loki loki/loki --set "loki.tracing.jaegerAgentHost=YOUR_JAEGER_AGENT_HOST"
